<!DOCTYPE html>

<html lang="en">
    <head>
        <title>Antenna Length Calculator</title>
        <link rel="stylesheet" href="styles.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

        <script>

            //classic "Hello World!"
            console.log("Hello World!");

            function printSelectedAntenna(target, str, rbutton){ 
                let antennas = document.getElementsByName(rbutton);  //creating an array with radio button elements
                let selectedAntenna = ""; //string to be written to target html element

                for (let i=0; i < antennas.length; i++){ //step through each radio button element
                    if ((antennas[i].type="radio") && (antennas[i].checked)){      
                            selectedAntenna = str.concat(" ", antennas[i].value);  //build the string to be written to target html element
                            drawAntennaDiag();  //draw the antenna diagram in the canvas
                        }
                    }

                document.getElementById(target).innerHTML = selectedAntenna;  //write selectedAntenna string to target html element
            }

            function drawAntennaDiag(){
                const canvas = document.getElementById("antennaDiagram");  //create canvas
                
                if(canvas.getContext){
                    const ctx = canvas.getContext("2d");  //define canvase context

                    ctx.clearRect(0, 0, canvas.width, canvas.height);  //clear anything previously drawn

                    ctx.beginPath();  //start a path
                    ctx.strokeStyle = "#FF2D00";   //draw a red line (always shows purple?)
                    ctx.moveTo(10, 100);
                    ctx.lineTo(290, 100);
                    ctx.stroke();
                    ctx.closePath();
                   
                    
                    ctx.beginPath();
                    ctx.strokeStyle = "#3B3D98";  //draw a blue line
                    ctx.moveTo(310, 100);
                    ctx.lineTo(590, 100);
                    ctx.stroke();
                    ctx.closePath();
                    
                }
                else{}
            }

            function freqOptions(ant){

                switch (ant){
                    case 1:{
                        document.getElementById("singleFreq").style.display = "block";
                        document.getElementById("doubleFreq").style.display = "none";
                        document.getElementById("tripleFreq").style.display = "none";
                        break;
                    }

                    case 2:{
                        document.getElementById("singleFreq").style.display = "none";
                        document.getElementById("doubleFreq").style.display = "block";
                        document.getElementById("tripleFreq").style.display = "none";
                        break;
                    }
                    
                    case 3:{
                        document.getElementById("singleFreq").style.display = "none";
                        document.getElementById("doubleFreq").style.display = "none";
                        document.getElementById("tripleFreq").style.display = "block";
                        break;
                    }
                    default:{
                        document.getElementById("singleFreq").style.display = "block";
                        document.getElementById("doubleFreq").style.display = "none";
                        document.getElementById("tripleFreq").style.display = "none";
                    }
                }
            }



        </script>
    </head>

    <body class="main">
        
        <h1 class="title">Antenna Length Calculator</h1>

        <div class="sections">
        <h3 class="sectionHeaders">1. What type of antenna do you want to build?</h3>
            <div class="antennaType">
                <img class="antennaImg" src="dipole.png" alt="Dipole Antenna">

                <div>
                    <input type="radio" id="dipole" name="antennaType" value="Dipole" onclick="freqOptions(1)" checked> <label for="dipole">Dipole</label>
                </div>
            </div>
            
            <div class="antennaType">
                <img class="antennaImg" src="fandipole.png" alt="Fan Dipole Antenna">

                <div>
                    <input type="radio" id="fanDipole" name="antennaType" value="Fan Dipole" onclick="freqOptions(3)"> <label for="fanDipole">Fan Dipole</label>
                </div>
            </div>

            <div class="antennaType">
                <img class="antennaImg" src="invertedvee.png" alt="Inverted Vee Dipole Antenna">

                <div>
                    <input type="radio" id="invertedVee" name="antennaType" value="Inverted Vee" onclick="freqOptions(1)"> <label for="invertedVee">Inverted Vee</label>
                </div>
            </div>

            <div class="antennaType">
                <img class="antennaImg" src="ocf.png" alt="Off Center Fed Dipole">

                <div>
                    <input type="radio" id="ocfDipole" name="antennaType" value="Off Center Fed Dipole" onclick="freqOptions(2)"> <label for="ocfDipole">Off Center Fed Dipole</label>
                </div>
            </div>

            <div class="antennaType">
                <img class="antennaImg" src="vertical.png" alt="Vertical Antenna">

                <div>
                    <input type="radio" id="vertical" name="antennaType" value="Vertical" onclick="freqOptions(1)"> <label for="vertical">Vertical</label>
                </div>
            </div>
        </div>
        
        <div class="sections">
            <h3 class="sectionHeaders">2. What frequency will you be operating on?</h3>

            <div class="frequencyField">

                <div class="singleFreq" id="singleFreq">
                    <label for="freq">Frequency: </label> <input class="freqInput" type="text" id="freq" name="freq"> <span>MHz</span>
                </div>

                <div class="doubleFreq" id="doubleFreq">
                    <label for="ocfFreq">Highest Desired Band: </label>
                    <select name="ocfBands" id="ocfBands" id="ocfBands">
                        <option value="40m"> 40m (7.000 MHz) </option>
                        <option value="80m"> 80m (3.5 MHz) </option>
                    </select>
                </div>

                <div class="tripleFreq" id="tripleFreq">
                    <div> <label for="freq">Frequency for First: </label> <input class="freqInput" type="text" id="freq" name="freq"> <span>MHz</span> </div>
                    <div> <label for="freq">Frequency for Second Leg: </label> <input class="freqInput" type="text" id="freq" name="freq"> <span>MHz</span> </div>
                    <div> <label for="freq">Frequency for Third Leg: </label> <input class="freqInput" type="text" id="freq" name="freq"> <span>MHz</span> </div>
                </div>

                <button class="calculate" onclick="document.getElementById('helloWorld').innerHTML = 'Hello World!';
                    printSelectedAntenna('antennaInfo', '3. Here\'s your antenna...', 'antennaType')" type="button">Calculate</button>
                <span class="helloWorld" id="helloWorld"></span>

            </div>
        </div>

        <div class="sections">
            <h3 id="antennaInfo" class="sectionHeaders">3. Here's your antenna...</h3>
            
            <canvas class="drawAntenna" id="antennaDiagram" width="600" height="200">
                You're browser does not support the canvas tag.
            </canvas>
        </div>

    </body>
</html>